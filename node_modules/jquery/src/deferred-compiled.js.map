{"version":3,"sources":["deferred.js"],"names":[],"mappings":"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","file":"deferred-compiled.js","sourcesContent":["define( [\n\t\"./core\",\n\t\"./var/slice\",\n\t\"./callbacks\"\n], function( jQuery, slice ) {\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ) ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis === promise ? newDefer.promise() : this,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add( function() {\n\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 ||\n\t\t\t\t( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred.\n\t\t\t// If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// Add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) )\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n} );\n\nreturn jQuery;\n} );\n"]}