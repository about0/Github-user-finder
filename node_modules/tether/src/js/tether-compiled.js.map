{"version":3,"sources":["tether.js"],"names":[],"mappings":"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","file":"tether-compiled.js","sourcesContent":["/* globals TetherBase, performance */\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nconst {\n  getScrollParent,\n  getBounds,\n  getOffsetParent,\n  extend,\n  addClass,\n  removeClass,\n  updateClasses,\n  defer,\n  flush,\n  getScrollBarSize\n} = TetherBase.Utils;\n\nfunction within(a, b, diff=1) {\n  return (a + diff >= b && b >= a - diff);\n}\n\nconst transformKey = (() => {\n  if(typeof document === 'undefined') {\n    return '';\n  }\n  const el = document.createElement('div');\n\n  const transforms = ['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (let i = 0; i < transforms.length; ++i) {\n    const key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nconst tethers = [];\n\nconst position = () => {\n  tethers.forEach(tether => {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance !== 'undefined' && typeof performance.now !== 'undefined') {\n    return performance.now();\n  }\n  return +new Date;\n}\n\n(() => {\n  let lastCall = null;\n  let lastDuration = null;\n  let pendingTimeout = null;\n\n  const tick = () => {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && (now() - lastCall) < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (typeof pendingTimeout !== 'undefined') {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if(typeof window !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(event => {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nconst MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nconst MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nconst OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nconst autoToFixedAttachment = (attachment, relativeToAttachment) => {\n  let {left, top} = attachment;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return {left, top};\n};\n\nconst attachmentToOffset = (attachment) => {\n  let left = attachment.left;\n  let top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return {left, top};\n};\n\nfunction addOffset(...offsets) {\n  const out = {top: 0, left: 0};\n\n  offsets.forEach(({top, left}) => {\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nconst parseOffset = (value) => {\n  const [top, left] = value.split(' ');\n  return {top, left};\n};\nconst parseAttachment = parseOffset;\n\nclass TetherClass {\n\n  constructor(options) {\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(module => {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(this);\n      }\n    });\n\n    this.position();\n  }\n\n  getClass(key='') {\n    const {classes} = this.options;\n    if (typeof classes !== 'undefined' && classes[key]) {\n      return this.options.classes[key];\n    } else if (this.options.classPrefix) {\n      return `${ this.options.classPrefix }-${ key }`;\n    } else {\n      return key;\n    }\n  }\n\n  setOptions(options, pos=true) {\n    const defaults = {\n      offset: '0 0',\n      targetOffset: '0 0',\n      targetAttachment: 'auto auto',\n      classPrefix: 'tether'\n    };\n\n    this.options = extend(defaults, options);\n\n    let {element, target, targetModifier} = this.options;\n    this.element = element;\n    this.target = target;\n    this.targetModifier = targetModifier;\n\n    if (this.target === 'viewport') {\n      this.target = document.body;\n      this.targetModifier = 'visible';\n    } else if (this.target === 'scroll-handle') {\n      this.target = document.body;\n      this.targetModifier = 'scroll-handle';\n    }\n\n    ['element', 'target'].forEach(key => {\n      if (typeof this[key] === 'undefined') {\n        throw new Error('Tether Error: Both element and target must be defined');\n      }\n\n      if (typeof this[key].jquery !== 'undefined') {\n        this[key] = this[key][0];\n      } else if (typeof this[key] === 'string') {\n        this[key] = document.querySelector(this[key]);\n      }\n    });\n\n    addClass(this.element, this.getClass('element'));\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('target'));\n    }\n\n    if (!this.options.attachment) {\n      throw new Error('Tether Error: You must provide an attachment');\n    }\n\n    this.targetAttachment = parseAttachment(this.options.targetAttachment);\n    this.attachment = parseAttachment(this.options.attachment);\n    this.offset = parseOffset(this.options.offset);\n    this.targetOffset = parseOffset(this.options.targetOffset);\n\n    if (typeof this.scrollParent !== 'undefined') {\n      this.disable();\n    }\n\n    if (this.targetModifier === 'scroll-handle') {\n      this.scrollParent = this.target;\n    } else {\n      this.scrollParent = getScrollParent(this.target);\n    }\n\n    if(!(this.options.enabled === false)) {\n      this.enable(pos);\n    }\n  }\n\n  getTargetBounds() {\n    if (typeof this.targetModifier !== 'undefined') {\n      if (this.targetModifier === 'visible') {\n        if (this.target === document.body) {\n          return {top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth};\n        } else {\n          const bounds = getBounds(this.target);\n\n          const out = {\n            height: bounds.height,\n            width: bounds.width,\n            top: bounds.top,\n            left: bounds.left\n          };\n\n          out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n          out.height = Math.min(out.height, bounds.height - ((bounds.top + bounds.height) - (pageYOffset + innerHeight)));\n          out.height = Math.min(innerHeight, out.height);\n          out.height -= 2;\n\n          out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n          out.width = Math.min(out.width, bounds.width - ((bounds.left + bounds.width) - (pageXOffset + innerWidth)));\n          out.width = Math.min(innerWidth, out.width);\n          out.width -= 2;\n\n          if (out.top < pageYOffset) {\n            out.top = pageYOffset;\n          }\n          if (out.left < pageXOffset) {\n            out.left = pageXOffset;\n          }\n\n          return out;\n        }\n      } else if (this.targetModifier === 'scroll-handle') {\n        let bounds;\n        let target = this.target;\n        if (target === document.body) {\n          target = document.documentElement;\n\n          bounds = {\n            left: pageXOffset,\n            top: pageYOffset,\n            height: innerHeight,\n            width: innerWidth\n          };\n        } else {\n          bounds = getBounds(target);\n        }\n\n        const style = getComputedStyle(target);\n\n        const hasBottomScroll = (\n          target.scrollWidth > target.clientWidth ||\n          [style.overflow, style.overflowX].indexOf('scroll') >= 0 ||\n          this.target !== document.body\n        );\n\n        let scrollBottom = 0;\n        if (hasBottomScroll) {\n          scrollBottom = 15;\n        }\n\n        const height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n        const out = {\n          width: 15,\n          height: height * 0.975 * (height / target.scrollHeight),\n          left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n        };\n\n        let fitAdj = 0;\n        if (height < 408 && this.target === document.body) {\n          fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n        }\n\n        if (this.target !== document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        const scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n        out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n        if (this.target === document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        return out;\n      }\n    } else {\n      return getBounds(this.target);\n    }\n  }\n\n  clearCache() {\n    this._cache = {};\n  }\n\n  cache(k, getter) {\n    // More than one module will often need the same DOM info, so\n    // we keep a cache which is cleared on each position call\n    if (typeof this._cache === 'undefined') {\n      this._cache = {};\n    }\n\n    if (typeof this._cache[k] === 'undefined') {\n      this._cache[k] = getter.call(this);\n    }\n\n    return this._cache[k];\n  }\n\n  enable(pos=true) {\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('enabled'));\n    }\n    addClass(this.element, this.getClass('enabled'));\n    this.enabled = true;\n\n    if (this.scrollParent !== document) {\n      this.scrollParent.addEventListener('scroll', this.position);\n    }\n\n    if (pos) {\n      this.position();\n    }\n  }\n\n  disable() {\n    removeClass(this.target, this.getClass('enabled'));\n    removeClass(this.element, this.getClass('enabled'));\n    this.enabled = false;\n\n    if (typeof this.scrollParent !== 'undefined') {\n      this.scrollParent.removeEventListener('scroll', this.position);\n    }\n  }\n\n  destroy() {\n    this.disable();\n\n    tethers.forEach((tether, i) => {\n      if (tether === this) {\n        tethers.splice(i, 1);\n        return;\n      }\n    });\n  }\n\n  updateAttachClasses(elementAttach, targetAttach) {\n    elementAttach = elementAttach || this.attachment;\n    targetAttach = targetAttach || this.targetAttachment;\n    const sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n    if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n      // updateAttachClasses can be called more than once in a position call, so\n      // we need to clean up after ourselves such that when the last defer gets\n      // ran it doesn't add any extra classes from previous calls.\n      this._addAttachClasses.splice(0, this._addAttachClasses.length);\n    }\n\n    if (typeof this._addAttachClasses === 'undefined') {\n      this._addAttachClasses = [];\n    }\n    const add = this._addAttachClasses;\n\n    if (elementAttach.top) {\n      add.push(`${ this.getClass('element-attached') }-${ elementAttach.top }`);\n    }\n    if (elementAttach.left) {\n      add.push(`${ this.getClass('element-attached') }-${ elementAttach.left }`);\n    }\n    if (targetAttach.top) {\n      add.push(`${ this.getClass('target-attached') }-${ targetAttach.top }`);\n    }\n    if (targetAttach.left) {\n      add.push(`${ this.getClass('target-attached') }-${ targetAttach.left }`);\n    }\n\n    const all = [];\n    sides.forEach(side => {\n      all.push(`${ this.getClass('element-attached') }-${ side }`);\n      all.push(`${ this.getClass('target-attached') }-${ side }`);\n    });\n\n    defer(() => {\n      if (!(typeof this._addAttachClasses !== 'undefined')) {\n        return;\n      }\n\n      updateClasses(this.element, this._addAttachClasses, all);\n      if (!(this.options.addTargetClasses === false)) {\n        updateClasses(this.target, this._addAttachClasses, all);\n      }\n\n      delete this._addAttachClasses;\n    });\n  }\n\n  position(flushChanges=true) {\n    // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n    // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n    if (!this.enabled) {\n      return;\n    }\n\n    this.clearCache();\n\n    // Turn 'auto' attachments into the appropriate corner or edge\n    const targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n    this.updateAttachClasses(this.attachment, targetAttachment);\n\n    const elementPos = this.cache('element-bounds', () => {\n      return getBounds(this.element);\n    });\n\n    let {width, height} = elementPos;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      // We cache the height and width to make it possible to position elements that are\n      // getting hidden.\n      ({width, height} = this.lastSize);\n    } else {\n      this.lastSize = {width, height};\n    }\n\n    const targetPos = this.cache('target-bounds', () => {\n      return this.getTargetBounds();\n    });\n    const targetSize = targetPos;\n\n    // Get an actual px offset from the attachment\n    let offset = offsetToPx(attachmentToOffset(this.attachment), {width, height});\n    let targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n    const manualOffset = offsetToPx(this.offset, {width, height});\n    const manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n    // Add the manually provided offset\n    offset = addOffset(offset, manualOffset);\n    targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n    // It's now our goal to make (element position + offset) == (target position + target offset)\n    let left = targetPos.left + targetOffset.left - offset.left;\n    let top = targetPos.top + targetOffset.top - offset.top;\n\n    for (let i = 0; i < TetherBase.modules.length; ++i) {\n      const module = TetherBase.modules[i];\n      const ret = module.position.call(this, {\n        left,\n        top,\n        targetAttachment,\n        targetPos,\n        elementPos,\n        offset,\n        targetOffset,\n        manualOffset,\n        manualTargetOffset,\n        scrollbarSize,\n        attachment: this.attachment\n      });\n\n      if (ret === false) {\n        return false;\n      } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n        continue;\n      } else {\n        ({top, left} = ret);\n      }\n    }\n\n    // We describe the position three different ways to give the optimizer\n    // a chance to decide the best possible way to position the element\n    // with the fewest repaints.\n    const next = {\n      // It's position relative to the page (absolute positioning when\n      // the element is a child of the body)\n      page: {\n        top: top,\n        left: left\n      },\n\n      // It's position relative to the viewport (fixed positioning)\n      viewport: {\n        top: top - pageYOffset,\n        bottom: pageYOffset - top - height + innerHeight,\n        left: left - pageXOffset,\n        right: pageXOffset - left - width + innerWidth\n      }\n    };\n\n    let scrollbarSize;\n    if (document.body.scrollWidth > window.innerWidth) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.bottom -= scrollbarSize.height;\n    }\n\n    if (document.body.scrollHeight > window.innerHeight) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.right -= scrollbarSize.width;\n    }\n\n    if (['', 'static'].indexOf(document.body.style.position) === -1 ||\n        ['', 'static'].indexOf(document.body.parentElement.style.position) === -1) {\n      // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n      next.page.bottom = document.body.scrollHeight - top - height;\n      next.page.right = document.body.scrollWidth - left - width;\n    }\n\n    if (typeof this.options.optimizations !== 'undefined' &&\n        this.options.optimizations.moveElement !== false &&\n        !(typeof this.targetModifier !== 'undefined')) {\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n      const offsetPosition = this.cache('target-offsetparent-bounds', () => getBounds(offsetParent));\n      const offsetParentStyle = getComputedStyle(offsetParent);\n      const offsetParentSize = offsetPosition;\n\n      const offsetBorder = {};\n      ['Top', 'Left', 'Bottom', 'Right'].forEach(side => {\n        offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle[`border${ side }Width`]);\n      });\n\n      offsetPosition.right = document.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n      offsetPosition.bottom = document.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n      if (next.page.top >= (offsetPosition.top + offsetBorder.top) && next.page.bottom >= offsetPosition.bottom) {\n        if (next.page.left >= (offsetPosition.left + offsetBorder.left) && next.page.right >= offsetPosition.right) {\n          // We're within the visible part of the target's scroll parent\n          const scrollTop = offsetParent.scrollTop;\n          const scrollLeft = offsetParent.scrollLeft;\n\n          // It's position relative to the target's offset parent (absolute positioning when\n          // the element is moved to be a child of the target's offset parent).\n          next.offset = {\n            top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n            left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n          };\n        }\n      }\n    }\n\n\n    // We could also travel up the DOM and try each containing context, rather than only\n    // looking at the body, but we're gonna get diminishing returns.\n\n    this.move(next);\n\n    this.history.unshift(next);\n\n    if (this.history.length > 3) {\n      this.history.pop();\n    }\n\n    if (flushChanges) {\n      flush();\n    }\n\n    return true;\n  }\n\n  // THE ISSUE\n  move(pos) {\n    if (!(typeof this.element.parentNode !== 'undefined')) {\n      return;\n    }\n\n    const same = {};\n\n    for (let type in pos) {\n      same[type] = {};\n\n      for (let key in pos[type]) {\n        let found = false;\n\n        for (let i = 0; i < this.history.length; ++i) {\n          const point = this.history[i];\n          if (typeof point[type] !== 'undefined' &&\n              !within(point[type][key], pos[type][key])) {\n            found = true;\n            break;\n          }\n\n        }\n\n        if (!found) {\n          same[type][key] = true;\n        }\n      }\n    }\n\n    let css = {top: '', left: '', right: '', bottom: ''};\n\n    const transcribe = (_same, _pos) => {\n      const hasOptimizations = typeof this.options.optimizations !== 'undefined';\n      const gpu = hasOptimizations ? this.options.optimizations.gpu : null;\n      if (gpu !== false) {\n        let yPos, xPos;\n        if (_same.top) {\n          css.top = 0;\n          yPos = _pos.top;\n        } else {\n          css.bottom = 0;\n          yPos = -_pos.bottom;\n        }\n\n        if (_same.left) {\n          css.left = 0;\n          xPos = _pos.left;\n        } else {\n          css.right = 0;\n          xPos = -_pos.right;\n        }\n\n        css[transformKey] = `translateX(${ Math.round(xPos) }px) translateY(${ Math.round(yPos) }px)`;\n\n        if (transformKey !== 'msTransform') {\n          // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n          // but IE9 doesn't support 3d transforms and will choke.\n          css[transformKey] += \" translateZ(0)\";\n        }\n\n      } else {\n        if (_same.top) {\n          css.top = `${ _pos.top }px`;\n        } else {\n          css.bottom = `${ _pos.bottom }px`;\n        }\n\n        if (_same.left) {\n          css.left = `${ _pos.left }px`;\n        } else {\n          css.right = `${ _pos.right }px`;\n        }\n      }\n    };\n\n    let moved = false;\n    if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n      css.position = 'absolute';\n      transcribe(same.page, pos.page);\n\n    } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n      css.position = 'fixed';\n      transcribe(same.viewport, pos.viewport);\n\n    } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n      css.position = 'absolute';\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n\n      if (getOffsetParent(this.element) !== offsetParent) {\n        defer(() => {\n          this.element.parentNode.removeChild(this.element);\n          offsetParent.appendChild(this.element);\n        });\n      }\n\n      transcribe(same.offset, pos.offset);\n      moved = true;\n\n    } else {\n      css.position = 'absolute';\n      transcribe({top: true, left: true}, pos.page);\n    }\n\n    if (!moved) {\n      let offsetParentIsBody = true;\n      let currentNode = this.element.parentNode;\n      while (currentNode && currentNode.tagName !== 'BODY') {\n        if (getComputedStyle(currentNode).position !== 'static') {\n          offsetParentIsBody = false;\n          break;\n        }\n\n        currentNode = currentNode.parentNode;\n      }\n\n      if (!offsetParentIsBody) {\n        this.element.parentNode.removeChild(this.element);\n        document.body.appendChild(this.element);\n      }\n    }\n\n    // Any css change will trigger a repaint, so let's avoid one if nothing changed\n    const writeCSS = {};\n    let write = false;\n    for (let key in css) {\n      let val = css[key];\n      let elVal = this.element.style[key];\n\n      if (elVal !== '' && val !== '' && ['top', 'left', 'bottom', 'right'].indexOf(key) >= 0) {\n        elVal = parseFloat(elVal);\n        val = parseFloat(val);\n      }\n\n      if (elVal !== val) {\n        write = true;\n        writeCSS[key] = val;\n      }\n    }\n\n    if (write) {\n      defer(() => {\n        extend(this.element.style, writeCSS);\n      });\n    }\n  }\n}\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nlet Tether = extend(TetherClass, TetherBase);\n"]}